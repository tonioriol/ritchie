image:
  repository: ghcr.io/tonioriol/acestreamio
  # Use a SemVer tag so Argo CD Image Updater (semver strategy) can compare versions.
  # It will keep this updated in-cluster via Application helm.parameters.
  tag: v1.2.0
  # Optional: pin by digest (recommended). If set, tag is ignored.
  # Example: sha256:deadbeef...
  digest: ""
  pullPolicy: Always

# Optional: use this when the GHCR package is private.
# Example:
#   imagePullSecrets:
#     - name: ghcr-pull
imagePullSecrets: []

replicaCount: 1

service:
  port: 7000

env:
  # Used to generate absolute URLs for posters and stream URLs in catalog/meta responses.
  addonUrl: "https://acestreamio.tonioriol.com"
  # PROXY_URL: public base URL for /ace/getstream stream URLs returned to Stremio clients.
  # Acexy sidecar is now directly exposed at ace.tonioriol.com with ACEXY_TOKEN auth.
  proxyUrl: "https://ace.tonioriol.com"
  scraperApiUrl: "http://acestream-scraper.default.svc.cluster.local:8000"
  enableLocalEngine: "false"
  localUrl: "http://127.0.0.1:6878"

# Stream token â€” authenticates requests to the scraper's /ace/getstream proxy.
# Must match AUTH_PASSWORD (ACEXY_TOKEN) on the acestream-scraper.
# addon.js appends ?token=<value> to every stream URL returned to Stremio clients.
streamToken: ""

secret:
  # Optional secret that may contain STREMIO_KEY (and any other env vars).
  # The Deployment references it with optional: true so sync won't fail if absent.
  name: acestreamio

ingress:
  # Traffic is served via Cloudflare Tunnel (no public Ingress required).
  enabled: false
  host: acestreamio.tonioriol.com
  tls:
    enabled: true
    issuer: letsencrypt-prod
    secretName: acestreamio-tonioriol-com-tls
