image:
  repository: ghcr.io/tonioriol/acestream-scraper
  tag: v1.4.0
  pullPolicy: IfNotPresent

imagePullSecrets:
  - name: ghcr-pull

replicaCount: 1

service:
  port: 8000

env:
  # Timezone
  TZ: "Europe/Madrid"
  # Flask port
  FLASK_PORT: "8000"
  # Enable bundled acestream engine + Acexy (acestream-http-proxy)
  ENABLE_ACESTREAM_ENGINE: "true"
  ENABLE_ACEXY: "true"
  ENABLE_TOR: "false"
  ENABLE_WARP: "false"
  # Engine HTTP port (entrypoint uses --http-port $ACESTREAM_HTTP_PORT)
  # Acexy listens on :8080 and proxies to engine at ACEXY_HOST:ACEXY_PORT (localhost:6878)
  ACESTREAM_HTTP_PORT: "6878"
  # Scraper config points at Acexy (localhost:8080)
  ACESTREAM_HTTP_HOST: "localhost"
  # Allow remote access (needed for k8s service access)
  ALLOW_REMOTE_ACCESS: "yes"

persistence:
  enabled: true
  size: 1Gi
  storageClass: ""
  accessMode: ReadWriteOnce

ingress:
  # Traffic is served via Cloudflare Tunnel (no public Ingress required for now).
  enabled: false
  host: acestream-scraper.neumann.tonioriol.com
  tls:
    enabled: true
    issuer: letsencrypt-prod
    secretName: acestream-scraper-tls
