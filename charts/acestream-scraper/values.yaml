image:
  repository: ghcr.io/tonioriol/acestream-scraper
  tag: v1.4.0
  pullPolicy: IfNotPresent

imagePullSecrets:
  - name: ghcr-pull

replicaCount: 1

service:
  port: 8000

acexy:
  image:
    repository: ghcr.io/tonioriol/acexy
    tag: latest
    pullPolicy: Always

env:
  # Timezone
  TZ: "Europe/Madrid"
  # Flask port
  FLASK_PORT: "8000"
  # Enable bundled acestream engine; Acexy runs as a sidecar (disable bundled Acexy)
  ENABLE_ACESTREAM_ENGINE: "true"
  ENABLE_ACEXY: "false"
  ENABLE_TOR: "false"
  ENABLE_WARP: "false"
  # Engine HTTP port (entrypoint uses --http-port $ACESTREAM_HTTP_PORT)
  ACESTREAM_HTTP_PORT: "6878"
  # Scraper config points at Acexy sidecar (localhost:8080)
  ACESTREAM_HTTP_HOST: "localhost"
  # Allow remote access (needed for k8s service access)
  ALLOW_REMOTE_ACCESS: "yes"

persistence:
  enabled: true
  size: 1Gi
  storageClass: ""
  accessMode: ReadWriteOnce

ingress:
  # Traffic is served via Cloudflare Tunnel (no public Ingress required for now).
  enabled: false
  host: acestream-scraper.neumann.tonioriol.com
  tls:
    enabled: true
    issuer: letsencrypt-prod
    secretName: acestream-scraper-tls

# HTTP Basic Auth
# Set enabled: true and provide username/password to protect all routes.
# /api/health is always public (k8s probes).
# AUTH_PASSWORD is also embedded as ?token= in M3U stream URLs so TiviMate
# and other players can stream via scraper.tonioriol.com/ace/getstream without
# interactive Basic Auth prompts.
auth:
  enabled: false
  username: ""
  password: ""
