image:
  repository: ghcr.io/tonioriol/acestream-scraper
  tag: v1.4.0
  pullPolicy: IfNotPresent

imagePullSecrets:
  - name: ghcr-pull

replicaCount: 1

service:
  port: 8000

env:
  # Timezone
  TZ: "Europe/Madrid"
  # Flask port
  FLASK_PORT: "8000"
  # Bundled engine and Acexy are disabled â€” both run as standalone services in media namespace.
  ENABLE_ACESTREAM_ENGINE: "false"
  ENABLE_ACEXY: "false"
  ENABLE_TOR: "false"
  ENABLE_WARP: "false"
  # External AceStream engine in media namespace (used for channel status/search API calls)
  ACESTREAM_HTTP_PORT: "6878"
  ACESTREAM_HTTP_HOST: "acestream.media.svc.cluster.local"
  # Allow remote access (needed for k8s service access)
  ALLOW_REMOTE_ACCESS: "yes"

persistence:
  enabled: true
  size: 1Gi
  storageClass: ""
  accessMode: ReadWriteOnce

ingress:
  # Traffic is served via Cloudflare Tunnel (no public Ingress required for now).
  enabled: false
  host: acestream-scraper.neumann.tonioriol.com
  tls:
    enabled: true
    issuer: letsencrypt-prod
    secretName: acestream-scraper-tls

# HTTP Basic Auth
# Set enabled: true and provide username/password to protect all routes.
# /api/health is always public (k8s probes).
# AUTH_PASSWORD is also embedded as ?token= in M3U stream URLs so TiviMate
# and other players can stream via scraper.tonioriol.com/ace/getstream without
# interactive Basic Auth prompts.
auth:
  enabled: false

# Resource limits for the scraper container.
# On CX23 (2 vCPU/4GB), keep these conservative to leave room for k3s system components.
resources:
  requests:
    cpu: 200m
    memory: 256Mi
  limits:
    cpu: 500m
    memory: 512Mi

# external-dns: set enabled + hostname + target in the ArgoCD Application helm.values.
externalDns:
  enabled: false
  hostname: ""
  target: ""
