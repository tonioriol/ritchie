image:
  repository: cloudflare/cloudflared
  # Keep as an explicit tag for reproducibility.
  tag: "2025.2.0"
  pullPolicy: IfNotPresent

replicaCount: 1

tunnelId: "85e6bc75-0025-4fc3-9341-d4e517fea614"

# Create this Secret out-of-band (not committed):
# - key: credentials.json  (JSON with AccountTag, TunnelID, TunnelSecret)
credentialsSecret:
  name: cloudflared-credentials
  key: credentials.json

# Hostnames served by the tunnel.
#
# NOTE: Cloudflare Universal SSL (Free) covers only:
# - tonioriol.com
# - *.tonioriol.com
# It does NOT cover nested names like *.neumann.tonioriol.com.
#
# Keep tunnel hostnames to one level under the zone.
hosts:
  - hostname: acestreamio.tonioriol.com
    service: http://acestreamio.media.svc.cluster.local:80
  # ace.tonioriol.com â†’ Acexy standalone Deployment in media namespace.
  # Token auth (ACEXY_TOKEN) is enforced at the Acexy level.
  # All stream URLs embed ?token=<AUTH_PASSWORD> so clients authenticate without Basic Auth prompts.
  - hostname: ace.tonioriol.com
    service: http://acexy.media.svc.cluster.local:8080
  - hostname: tv.tonioriol.com
    service: http://iptv-relay.media.svc.cluster.local:80
  - hostname: scraper.tonioriol.com
    service: http://acestream-scraper.default.svc.cluster.local:8000
  - hostname: neumann.tonioriol.com
    service: http://argocd-server.argocd.svc.cluster.local:80
  - hostname: code.tonioriol.com
    service: http://code-workspaces.tools.svc.cluster.local:14500
  - hostname: ssh-code.tonioriol.com
    service: ssh://code-workspaces.tools.svc.cluster.local:22

resources:
  requests:
    cpu: 10m
    memory: 64Mi
  limits:
    cpu: 200m
    memory: 256Mi
